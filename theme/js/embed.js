/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/*
  Copyright (C) 2013 Gregory Schier <gschier1990@gmail.com>
  Copyright (C) 2013 Martin Zimmermann <info@posativ.org>

  Inspired by http://codepen.io/gschier/pen/GLvAy
*/

/*
 * Copyright 2014, Martin Zimmermann <info@posativ.org>. All rights reserved.
 * Distributed under the MIT license
 */

!function(){var requirejs,require,define;!function(e){function t(e,t){return x.call(e,t)}function n(e,t){var n,o,i,a,r,s,m,c,p,d,l,u,f=t&&t.split("/"),h=v.map,b=h&&h["*"]||{};if(e){for(e=e.split("/"),r=e.length-1,v.nodeIdCompat&&w.test(e[r])&&(e[r]=e[r].replace(w,"")),"."===e[0].charAt(0)&&f&&(u=f.slice(0,f.length-1),e=u.concat(e)),p=0;p<e.length;p++)if("."===(l=e[p]))e.splice(p,1),p-=1;else if(".."===l){if(0===p||1===p&&".."===e[2]||".."===e[p-1])continue;p>0&&(e.splice(p-1,2),p-=2)}e=e.join("/")}if((f||b)&&h){for(n=e.split("/"),p=n.length;p>0;p-=1){if(o=n.slice(0,p).join("/"),f)for(d=f.length;d>0;d-=1)if((i=h[f.slice(0,d).join("/")])&&(i=i[o])){a=i,s=p;break}if(a)break;!m&&b&&b[o]&&(m=b[o],c=p)}!a&&m&&(a=m,s=c),a&&(n.splice(0,s,a),e=n.join("/"))}return e}function o(t,n){return function(){var o=g.call(arguments,0);return"string"!=typeof o[0]&&1===o.length&&o.push(null),d.apply(e,o.concat([t,n]))}}function i(e){return function(t){return n(t,e)}}function a(e){return function(t){f[e]=t}}function r(n){if(t(h,n)){var o=h[n];delete h[n],b[n]=!0,p.apply(e,o)}if(!t(f,n)&&!t(b,n))throw new Error("No "+n);return f[n]}function s(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function m(e){return e?s(e):[]}function c(e){return function(){return v&&v.config&&v.config[e]||{}}}var p,d,l,u,f={},h={},v={},b={},x=Object.prototype.hasOwnProperty,g=[].slice,w=/\.js$/;l=function(e,t){var o,a=s(e),m=a[0],c=t[1];return e=a[1],m&&(m=n(m,c),o=r(m)),m?e=o&&o.normalize?o.normalize(e,i(c)):n(e,c):(e=n(e,c),a=s(e),m=a[0],e=a[1],m&&(o=r(m))),{f:m?m+"!"+e:e,n:e,pr:m,p:o}},u={require:function(e){return o(e)},exports:function(e){var t=f[e];return void 0!==t?t:f[e]={}},module:function(e){return{id:e,uri:"",exports:f[e],config:c(e)}}},p=function(n,i,s,c){var p,d,v,x,g,w,y,k=[],j=typeof s;if(c=c||n,w=m(c),"undefined"===j||"function"===j){for(i=!i.length&&s.length?["require","exports","module"]:i,g=0;g<i.length;g+=1)if(x=l(i[g],w),"require"===(d=x.f))k[g]=u.require(n);else if("exports"===d)k[g]=u.exports(n),y=!0;else if("module"===d)p=k[g]=u.module(n);else if(t(f,d)||t(h,d)||t(b,d))k[g]=r(d);else{if(!x.p)throw new Error(n+" missing "+d);x.p.load(x.n,o(c,!0),a(d),{}),k[g]=f[d]}v=s?s.apply(f[n],k):void 0,n&&(p&&p.exports!==e&&p.exports!==f[n]?f[n]=p.exports:v===e&&y||(f[n]=v))}else n&&(f[n]=s)},requirejs=require=d=function(t,n,o,i,a){if("string"==typeof t)return u[t]?u[t](n):r(l(t,m(n)).f);if(!t.splice){if(v=t,v.deps&&d(v.deps,v.callback),!n)return;n.splice?(t=n,n=o,o=null):t=e}return n=n||function(){},"function"==typeof o&&(o=i,i=a),i?p(e,t,n,o):setTimeout(function(){p(e,t,n,o)},4),d},d.config=function(e){return d(e)},requirejs._defined=f,define=function(e,n,o){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(o=n,n=[]),t(f,e)||t(h,e)||(h[e]=[e,n,o])},define.amd={jQuery:!0}}(),define("components/almond/almond",function(){}),define("app/lib/ready",[],function(){"use strict";var e=!1,t=function(t){e||(e=!0,t())};return function(e){document.addEventListener("DOMContentLoaded",function(){t(e)}),"interactive"!==document.readyState&&"complete"!==document.readyState||t(e)}}),define("app/config",[],function(){"use strict";for(var e={css:!0,lang:(navigator.language||navigator.userLanguage).split("-")[0],"reply-to-self":!1,"require-email":!1,"require-author":!1,"reply-notifications":!1,"max-comments-top":"inf","max-comments-nested":5,"reveal-on-click":5,gravatar:!1,avatar:!0,"avatar-bg":"#f0f0f0","avatar-fg":["#9abf88","#5698c4","#e279a3","#9163b6","#be5168","#f19670","#e4bf80","#447c69"].join(" "),vote:!0,"vote-levels":null,feed:!1},t=document.getElementsByTagName("script"),n=0;n<t.length;n++)for(var o=0;o<t[n].attributes.length;o++){var i=t[n].attributes[o];if(/^data-isso-/.test(i.name))try{e[i.name.substring(10)]=JSON.parse(i.value)}catch(t){e[i.name.substring(10)]=i.value}}return e["avatar-fg"]=e["avatar-fg"].split(" "),e}),define("app/i18n/bg",{"postbox-text":"袙褗胁械写械褌械 泻芯屑械薪褌邪褉邪 褋懈 褌褍泻 (锌芯薪械 3 蟹薪邪泻邪)","postbox-author":"袠屑械/锌褋械胁写芯薪懈屑 (薪械蟹邪写褗谢卸懈褌械谢薪芯)","postbox-email":"袝谢. 锌芯褖邪 (薪械蟹邪写褗谢卸懈褌械谢薪芯)","postbox-website":"校械斜褋邪泄褌 (薪械蟹邪写褗谢卸懈褌械谢薪芯)","postbox-preview":"锌褉械谐谢械写","postbox-edit":"袪械写邪泻褌懈褉邪薪械","postbox-submit":"袩褍斜谢懈泻褍胁邪薪械","num-comments":"1 泻芯屑械薪褌邪褉\n{{ n }} 泻芯屑械薪褌邪褉邪","no-comments":"袙褋械 芯褖械 薪褟屑邪 泻芯屑械薪褌邪褉懈","comment-reply":"袨褌谐芯胁芯褉","comment-edit":"袪械写邪泻褌懈褉邪薪械","comment-save":"袟邪锌懈褋","comment-delete":"袠蟹褌褉懈胁邪薪械","comment-confirm":"袩芯褌胁褗褉卸写械薪懈械","comment-close":"袟邪褌胁邪褉褟薪械","comment-cancel":"袨褌泻邪蟹","comment-deleted":"袣芯屑械薪褌邪褉褗褌 械 懈蟹褌褉懈褌.","comment-queued":"袣芯屑械薪褌邪褉褗褌 褔邪泻邪 薪邪 芯锌邪褕泻邪褌邪 蟹邪 屑芯写械褉懈褉邪薪械.","comment-anonymous":"邪薪芯薪懈屑械薪","comment-hidden":"{{ n }} 褋泻褉懈褌懈","date-now":"褋械谐邪","date-minute":"锌褉械写懈 1 屑懈薪褍褌邪\n锌褉械写懈 {{ n }} 屑懈薪褍褌懈","date-hour":"锌褉械写懈 1 褔邪褋\n锌褉械写懈 {{ n }} 褔邪褋邪","date-day":"胁褔械褉邪\n锌褉械写懈 {{ n }} 写薪懈","date-week":"屑懈薪邪谢邪褌邪 褋械写屑懈褑邪\n锌褉械写懈 {{ n }} 褋械写屑懈褑懈","date-month":"屑懈薪邪谢懈褟 屑械褋械褑\n锌褉械写懈 {{ n }} 屑械褋械褑邪","date-year":"屑懈薪邪谢邪褌邪 谐芯写懈薪邪\n锌褉械写懈 {{ n }} 谐芯写懈薪懈"}),define("app/i18n/cs",{"postbox-text":"Sem napi拧t臎 sv暖j koment谩艡 (nejm茅n臎 3 znaky)","postbox-author":"Jm茅no (nepovinn茅)","postbox-email":"E-mail (nepovinn媒)","postbox-website":"Web (nepovinn媒)","postbox-preview":"N谩hled","postbox-edit":"Upravit","postbox-submit":"Publikovat","num-comments":"Jeden koment谩艡\n{{ n }} Koment谩艡暖","no-comments":"Zat铆m bez koment谩艡暖","comment-reply":"Odpov臎d臎t","comment-edit":"Upravit","comment-save":"Ulo啪it","comment-delete":"Smazat","comment-confirm":"Potvrdit","comment-close":"Zav艡铆t","comment-cancel":"Zru拧it","comment-deleted":"Koment谩艡 smaz谩n","comment-queued":"Koment谩艡 ve front臎 na schv谩len铆","comment-anonymous":"Anonym","comment-hidden":"{{ n }} skryto","date-now":"pr谩v臎 te膹","date-minute":"p艡ed minutou\np艡ed {{ n }} minutami","date-hour":"p艡ed hodinou\np艡ed {{ n }} hodinami","date-day":"v膷era\np艡ed {{ n }} dny","date-week":"minul媒 t媒den\np艡ed {{ n }} t媒dny","date-month":"minul媒 m臎s铆c\np艡ed {{ n }} m臎s铆ci","date-year":"minul媒 rok\np艡ed {{ n }} lety"}),define("app/i18n/da",{"postbox-text":"Type Comment Here (at least 3 chars)","postbox-author":"Name (optional)","postbox-email":"E-mail (optional)","postbox-website":"Website (optional)","postbox-preview":"Eksempel","postbox-edit":"Rediger","postbox-submit":"Submit","num-comments":"One Comment\n{{ n }} Comments","no-comments":"Ingen kommentarer endnu","comment-reply":"Svar","comment-edit":"Rediger","comment-save":"Gem","comment-delete":"Fjern","comment-confirm":"Bekr忙ft","comment-close":"Luk","comment-cancel":"Annuller","comment-deleted":"Kommentar slettet.","comment-queued":"Kommentar i k酶 for moderation.","comment-anonymous":"Anonym","comment-hidden":"{{ n }} Skjult","date-now":"lige nu","date-minute":"et minut siden\n{{ n }} minutter siden","date-hour":"en time siden\n{{ n }} timer siden","date-day":"Ig氓r\n{{ n }} dage siden","date-week":"sidste uge\n{{ n }} uger siden","date-month":"sidste m氓ned\n{{ n }} m氓neder siden","date-year":"sidste 氓r\n{{ n }} 氓r siden"}),define("app/i18n/de",{"postbox-text":"Kommentar hier eingeben (mindestens 3 Zeichen)","postbox-author":"Name (optional)","postbox-email":"E-Mail (optional)","postbox-website":"Website (optional)","postbox-preview":"Vorschau","postbox-edit":"Bearbeiten","postbox-submit":"Abschicken","postbox-notification":"wenn auf meinen Kommentar geantwortet wird, m枚chte ich eine E-Mail bekommen","num-comments":"1 Kommentar\n{{ n }} Kommentare","no-comments":"Bisher keine Kommentare","comment-reply":"Antworten","comment-edit":"Bearbeiten","comment-save":"Speichern","comment-delete":"L枚schen","comment-confirm":"Best盲tigen","comment-close":"Schlie脽en","comment-cancel":"Abbrechen","comment-deleted":"Kommentar gel枚scht.","comment-queued":"Kommentar muss noch freigeschaltet werden.","comment-anonymous":"Anonym","comment-hidden":"{{ n }} versteckt","date-now":"eben gerade","date-minute":"vor einer Minute\nvor {{ n }} Minuten","date-hour":"vor einer Stunde\nvor {{ n }} Stunden","date-day":"Gestern\nvor {{ n }} Tagen","date-week":"letzte Woche\nvor {{ n }} Wochen","date-month":"letzten Monat\nvor {{ n }} Monaten","date-year":"letztes Jahr\nvor {{ n }} Jahren"}),define("app/i18n/en",{"postbox-text":"Type Comment Here (at least 3 chars)","postbox-author":"Name (optional)","postbox-email":"E-mail (optional)","postbox-website":"Website (optional)","postbox-preview":"Preview","postbox-edit":"Edit","postbox-submit":"Submit","postbox-notification":"Subscribe to email notification of replies","num-comments":"One Comment\n{{ n }} Comments","no-comments":"No Comments Yet","atom-feed":"Atom feed","comment-reply":"Reply","comment-edit":"Edit","comment-save":"Save","comment-delete":"Delete","comment-confirm":"Confirm","comment-close":"Close","comment-cancel":"Cancel","comment-deleted":"Comment deleted.","comment-queued":"Comment in queue for moderation.","comment-anonymous":"Anonymous","comment-hidden":"{{ n }} Hidden","date-now":"right now","date-minute":"a minute ago\n{{ n }} minutes ago","date-hour":"an hour ago\n{{ n }} hours ago","date-day":"Yesterday\n{{ n }} days ago","date-week":"last week\n{{ n }} weeks ago","date-month":"last month\n{{ n }} months ago","date-year":"last year\n{{ n }} years ago"}),define("app/i18n/fa",{"postbox-text":"賳馗乇 禺賵丿 乇丕 丕蹖賳噩丕 亘賳賵蹖爻蹖丿 (丨丿丕賯賱 爻賴 賳賵蹖爻賴)","postbox-author":"丕爻賲 (丕禺鬲蹖丕乇蹖)","postbox-email":"丕蹖賲蹖賱 (丕禺鬲蹖丕乇蹖)","postbox-website":"爻丕蹖鬲 (丕禺鬲蹖丕乇蹖)","postbox-preview":"倬蹖卮鈥屬嗁呚й屫�","postbox-edit":"賵蹖乇丕蹖卮","postbox-submit":"丕乇爻丕賱","num-comments":"蹖讴 賳馗乇\n{{ n }} 賳馗乇","no-comments":"賴賳賵夭 賳馗乇蹖 賳賵卮鬲賴 賳卮丿賴 丕爻鬲","comment-reply":"倬丕爻禺","comment-edit":"賵蹖乇丕蹖卮","comment-save":"匕禺蹖乇賴","comment-delete":"丨匕賮","comment-confirm":"鬲丕蹖蹖丿","comment-close":"亘爻鬲賳","comment-cancel":"丕賳氐乇丕賮","comment-deleted":"賳馗乇 丨匕賮 卮丿.","comment-queued":"賳馗乇 丿乇 氐賮 亘乇乇爻蹖 賲丿蹖乇 賯乇丕乇 丿丕乇丿.","comment-anonymous":"賳丕卮賳丕爻","comment-hidden":"{{ n }} 賲禺賮蹖","date-now":"賴賲 丕讴賳賵賳","date-minute":"蹖讴 丿賯蹖賯賴 倬蹖卮\n{{ n }} 丿賯蹖賯賴 倬蹖卮","date-hour":"蹖讴 爻丕毓鬲 倬蹖卮\n{{ n }} 爻丕毓鬲 倬蹖卮","date-day":"丿蹖乇賵夭\n{{ n }} 乇賵夭 倬蹖卮","date-week":"蹖讴 賴賮鬲賴 倬蹖卮\n{{ n }} 賴賮鬲賴 倬蹖卮","date-month":"蹖讴 賲丕賴 倬蹖卮\n{{ n }} 賲丕賴 倬蹖卮","date-year":"蹖讴 爻丕賱 倬蹖卮\n{{ n }} 爻丕賱 倬蹖卮"}),define("app/i18n/fi",{"postbox-text":"Kirjoita kommentti t盲h盲n (v盲hint盲盲n 3 merkki盲)","postbox-author":"Nimi (valinnainen)","postbox-email":"S盲hk枚posti (valinnainen)","postbox-website":"Web-sivu (valinnainen)","postbox-preview":"Esikatselu","postbox-edit":"Muokkaa","postbox-submit":"L盲het盲","num-comments":"Yksi kommentti\n{{ n }} kommenttia","no-comments":"Ei viel盲 kommentteja","comment-reply":"Vastaa","comment-edit":"Muokkaa","comment-save":"Tallenna","comment-delete":"Poista","comment-confirm":"Vahvista","comment-close":"Sulje","comment-cancel":"Peru","comment-deleted":"Kommentti on poistettu.","comment-queued":"Kommentti on laitettu jonoon odottamaan moderointia.","comment-anonymous":"Nimet枚n","comment-hidden":"{{ n }} piilotettua","date-now":"hetki sitten","date-minute":"minuutti sitten\n{{ n }} minuuttia sitten","date-hour":"tunti sitten\n{{ n }} tuntia sitten","date-day":"eilen\n{{ n }} p盲iv盲盲 sitten","date-week":"viime viikolla\n{{ n }} viikkoa sitten","date-month":"viime kuussa\n{{ n }} kuukautta sitten","date-year":"viime vuonna\n{{ n }} vuotta sitten"}),define("app/i18n/fr",{"postbox-text":"Ins茅rez votre commentaire ici (au moins 3 lettres)","postbox-author":"Nom (optionnel)","postbox-email":"Courriel (optionnel)","postbox-website":"Site web (optionnel)","postbox-preview":"Aper莽u","postbox-edit":"脡diter","postbox-submit":"Soumettre","postbox-notification":"S鈥檃bonner aux notifications de r茅ponses","num-comments":"{{ n }} commentaire\n{{ n }} commentaires","no-comments":"Aucun commentaire pour l鈥檌nstant","atom-feed":"Flux Atom","comment-reply":"R茅pondre","comment-edit":"脡diter","comment-save":"Enregistrer","comment-delete":"Supprimer","comment-confirm":"Confirmer","comment-close":"Fermer","comment-cancel":"Annuler","comment-deleted":"Commentaire supprim茅.","comment-queued":"Commentaire en attente de mod茅ration.","comment-anonymous":"Anonyme","comment-hidden":"1 cach茅\n{{ n }} cach茅s","date-now":"脌 l鈥檌nstant","date-minute":"Il y a une minute\nIl y a {{ n }} minutes","date-hour":"Il y a une heure\nIl y a {{ n }} heures ","date-day":"Hier\nIl y a {{ n }} jours","date-week":"Il y a une semaine\nIl y a {{ n }} semaines","date-month":"Il y a un mois\nIl y a {{ n }} mois","date-year":"Il y a un an\nIl y a {{ n }} ans"}),define("app/i18n/hr",{"postbox-text":"Napi拧i komentar ovdje (najmanje 3 znaka)","postbox-author":"Ime (neobavezno)","postbox-email":"E-mail (neobavezno)","postbox-website":"Web stranica (neobavezno)","postbox-preview":"Pregled","postbox-edit":"Uredi","postbox-submit":"Po拧alji","num-comments":"Jedan komentar\n{{ n }} komentara","no-comments":"Jo拧 nema komentara","comment-reply":"Odgovori","comment-edit":"Uredi","comment-save":"Spremi","comment-delete":"Obri拧i","comment-confirm":"Potvrdi","comment-close":"Zatvori","comment-cancel":"Odustani","comment-deleted":"Komentar obrisan","comment-queued":"Komentar u redu za provjeru.","comment-anonymous":"Anonimno","comment-hidden":"{{ n }} Skrivenih","date-now":"upravo","date-minute":"prije minutu\nprije {{ n }} minuta","date-hour":"prije sat vremena\nprije {{ n }} sati","date-day":"ju膷er\nprije {{ n }} dana","date-week":"pro拧li tjedan\nprije {{ n }} tjedana","date-month":"pro拧li mjesec\nprije {{ n }} mjeseci","date-year":"pro拧le godine\nprije {{ n }} godina"}),define("app/i18n/hu",{"postbox-text":"Hozz谩sz贸l谩st ide 铆rd be (legal谩bb 3 bet疟t)","postbox-author":"N茅v (nem k枚telez艖)","postbox-email":"Email (nem k枚telez艖)","postbox-website":"Website (nem k枚telez艖)","postbox-preview":"El艖n茅zet","postbox-edit":"Szerekeszt茅s","postbox-submit":"Elk眉ld","num-comments":"Egy hozz谩sz贸l谩s\n{{ n }} hozz谩sz贸l谩s","no-comments":"Eddig nincs hozz谩sz贸l谩s","comment-reply":"V谩lasz","comment-edit":"Szerekeszt茅s","comment-save":"Ment茅s","comment-delete":"T枚rl茅s","comment-confirm":"Meger艖s铆t","comment-close":"Bez谩r","comment-cancel":"T枚rl茅s","comment-deleted":"Hozz谩sz贸l谩s t枚r枚lve.","comment-queued":"A hozz谩sz贸l谩st el艖bb ellen艖rizz眉k.","comment-anonymous":"N茅vtelen","comment-hidden":"{{ n }} rejtve","date-now":"pillanatokkal ezel艖tt","date-minute":"egy perce\n{{ n }} perce","date-hour":"egy 贸r谩ja\n{{ n }} 贸r谩ja","date-day":"tegnap\n{{ n }} napja","date-week":"m煤lt h茅ten\n{{ n }} hete","date-month":"m煤lt h贸napban\n{{ n }} h贸napja","date-year":"tavaly\n{{ n }} 茅ve"}),define("app/i18n/ru",{"postbox-text":"袨褋褌邪胁懈褌褜 泻芯屑屑械薪褌邪褉懈泄 (屑懈薪懈屑褍屑 3 褋懈屑胁芯谢邪)","postbox-author":"袠屑褟 (薪械芯斜褟蟹邪褌械谢褜薪芯)","postbox-email":"Email (薪械芯斜褟蟹邪褌械谢褜薪芯)","postbox-website":"小邪泄褌 (薪械芯斜褟蟹邪褌械谢褜薪芯)","postbox-preview":"袩褉械写锌褉芯褋屑芯褌褉","postbox-edit":"袩褉邪胁泻邪","postbox-submit":"袨褌锌褉邪胁懈褌褜","postbox-notification":"袩芯写锌懈褋邪褌褜褋褟 薪邪 褍胁械写芯屑谢械薪懈械 芯斜 芯褌胁械褌邪褏","num-comments":"{{ n }} 泻芯屑屑械薪褌邪褉懈泄\n{{ n }} 泻芯屑屑械薪褌邪褉懈褟\n{{ n }} 泻芯屑屑械薪褌邪褉懈械胁","no-comments":"袩芯泻邪 薪械褌 泻芯屑屑械薪褌邪褉懈械胁","comment-reply":"袨褌胁械褌懈褌褜","comment-edit":"袩褉邪胁泻邪","comment-save":"小芯褏褉邪薪懈褌褜","comment-delete":"校写邪谢懈褌褜","comment-confirm":"袩芯写褌胁械褉写懈褌褜 褍写邪谢械薪懈械","comment-close":"袟邪泻褉褘褌褜","comment-cancel":"袨褌屑械薪懈褌褜","comment-deleted":"袣芯屑屑械薪褌邪褉懈泄 褍写邪谢褢薪","comment-queued":"袣芯屑屑械薪褌邪褉懈泄 斜褍写械褌 锌褉芯胁械褉械薪 屑芯写械褉邪褌芯褉芯屑","comment-anonymous":"袗薪芯薪懈屑","comment-hidden":"小泻褉褘褌 {{ n }} 泻芯屑屑械薪褌邪褉懈泄\n小泻褉褘褌芯 {{ n }} 泻芯屑屑械薪褌邪褉懈褟\n小泻褉褘褌芯 {{ n }} 泻芯屑屑械薪褌邪褉懈械胁","date-now":"孝芯谢褜泻芯 褔褌芯","date-minute":"{{ n }} 屑懈薪褍褌褍 薪邪蟹邪写\n{{ n }} 屑懈薪褍褌褘 薪邪蟹邪写\n{{ n }} 屑懈薪褍褌 薪邪蟹邪写","date-hour":"{{ n }} 褔邪褋 薪邪蟹邪写\n{{ n }} 褔邪褋邪 薪邪蟹邪写\n{{ n }} 褔邪褋芯胁 薪邪蟹邪写","date-day":"{{ n }} 写械薪褜 薪邪蟹邪写\n{{ n }} 写薪褟 薪邪蟹邪写\n{{ n }} 写薪械泄 薪邪蟹邪写","date-week":"{{ n }} 薪械写械谢褞 薪邪蟹邪写\n{{ n }} 薪械写械谢懈 薪邪蟹邪写\n{{ n }} 薪械写械谢褜 薪邪蟹邪写","date-month":"{{ n }} 屑械褋褟褑 薪邪蟹邪写\n{{ n }} 屑械褋褟褑邪 薪邪蟹邪写\n{{ n }} 屑械褋褟褑械胁 薪邪蟹邪写","date-year":"{{ n }} 谐芯写 薪邪蟹邪写\n{{ n }} 谐芯写邪 薪邪蟹邪写\n{{ n }} 谢械褌 薪邪蟹邪写"}),define("app/i18n/it",{"postbox-text":"Scrivi un commento qui (minimo 3 caratteri)","postbox-author":"Nome (opzionale)","postbox-email":"E-mail (opzionale)","postbox-website":"Sito web (opzionale)","postbox-preview":"Anteprima","postbox-edit":"Modifica","postbox-submit":"Invia","num-comments":"Un Commento\n{{ n }} Commenti","no-comments":"Ancora Nessun Commento","comment-reply":"Rispondi","comment-edit":"Modifica","comment-save":"Salva","comment-delete":"Elimina","comment-confirm":"Conferma","comment-close":"Chiudi","comment-cancel":"Cancella","comment-deleted":"Commento eliminato.","comment-queued":"Commento in coda per moderazione.","comment-anonymous":"Anonimo","comment-hidden":"{{ n }} Nascosto","date-now":"poco fa","date-minute":"un minuto fa\n{{ n }} minuti fa","date-hour":"un ora fa\n{{ n }} ore fa","date-day":"Ieri\n{{ n }} giorni fa","date-week":"questa settimana\n{{ n }} settimane fa","date-month":"questo mese\n{{ n }} mesi fa","date-year":"quest'anno\n{{ n }} anni fa"}),define("app/i18n/eo",{"postbox-text":"Tajpu komenton 膲i-tie (almena怒 3 signoj)","postbox-author":"Nomo (malnepra)","postbox-email":"Retadreso (malnepra)","postbox-website":"Retejo (malnepra)","postbox-preview":"Anta怒rigardo","postbox-edit":"Redaktu","postbox-submit":"Sendu","num-comments":"{{ n }} komento\n{{ n }} komentoj","no-comments":"Neniu komento ankora怒","comment-reply":"Respondu","comment-edit":"Redaktu","comment-save":"Savu","comment-delete":"Forvi艥u","comment-confirm":"Konfirmu","comment-close":"Fermu","comment-cancel":"Malfaru","comment-deleted":"Komento forvi艥ita","comment-queued":"Komento en atendovico por kontrolo.","comment-anonymous":"Sennoma","comment-hidden":"{{ n }} ka艥itaj","date-now":"牡us nun","date-minute":"anta怒 unu minuto\nanta怒 {{ n }} minutoj","date-hour":"anta怒 unu horo\nanta怒 {{ n }} horoj","date-day":"hiera怒\nanta怒 {{ n }} tagoj","date-week":"lasta semajno\nanta怒 {{ n }} semajnoj","date-month":"lasta monato\nanta怒 {{ n }} monatoj","date-year":"lasta jaro\nanta怒 {{ n }} jaroj"}),define("app/i18n/sv",{"postbox-text":"Skriv din kommentar h盲r (minst 3 tecken)","postbox-author":"Namn (frivilligt)","postbox-email":"E-mail (frivilligt)","postbox-website":"Hemsida (frivilligt)","postbox-preview":"F枚rhandsvisning","postbox-edit":"Redigera","postbox-submit":"Skicka","num-comments":"En kommentar\n{{ n }} kommentarer","no-comments":"Inga kommentarer 盲n","comment-reply":"Svara","comment-edit":"Redigera","comment-save":"Spara","comment-delete":"Radera","comment-confirm":"Bekr盲fta","comment-close":"St盲ng","comment-cancel":"Avbryt","comment-deleted":"Kommentar raderad.","comment-queued":"Kommentaren inv盲ntar granskning.","comment-anonymous":"Anonym","comment-hidden":"{{ n }} G枚md","date-now":"just nu","date-minute":"en minut sedan\n{{ n }} minuter sedan","date-hour":"en timme sedan\n{{ n }} timmar sedan","date-day":"ig氓r\n{{ n }} dagar sedan","date-week":"f枚rra veckan\n{{ n }} veckor sedan","date-month":"f枚rra m氓naden\n{{ n }} m氓nader sedan","date-year":"f枚rra 氓ret\n{{ n }} 氓r sedan"}),define("app/i18n/nl",{"postbox-text":"Typ reactie hier (minstens 3 karakters)","postbox-author":"Naam (optioneel)","postbox-email":"E-mail (optioneel)","postbox-website":"Website (optioneel)","postbox-preview":"Voorbeeld","postbox-edit":"Bewerken","postbox-submit":"Versturen","num-comments":"脡茅n reactie\n{{ n }} reacties","no-comments":"Nog geen reacties","comment-reply":"Beantwoorden","comment-edit":"Bewerken","comment-save":"Opslaan","comment-delete":"Verwijderen","comment-confirm":"Bevestigen","comment-close":"Sluiten","comment-cancel":"Annuleren","comment-deleted":"Reactie verwijderd.","comment-queued":"Reactie staat in de wachtrij voor goedkeuring.","comment-anonymous":"Anoniem","comment-hidden":"{{ n }} verborgen","date-now":"zojuist","date-minute":"een minuut geleden\n{{ n }} minuten geleden","date-hour":"een uur geleden\n{{ n }} uur geleden","date-day":"gisteren\n{{ n }} dagen geleden","date-week":"vorige week\n{{ n }} weken geleden","date-month":"vorige maand\n{{ n }} maanden geleden","date-year":"vorig jaar\n{{ n }} jaar geleden"}),define("app/i18n/el_GR",{"postbox-text":"螕蟻维蠄蟿蔚 蟿慰 蟽蠂蠈位喂慰 蔚未蠋 (蟿慰蠀位维蠂喂蟽蟿慰谓 3 蠂伪蟻伪魏蟿萎蟻蔚蟼)","postbox-author":"螌谓慰渭伪 (蟺蟻慰伪喂蟻蔚蟿喂魏蠈)","postbox-email":"E-mail (蟺蟻慰伪喂蟻蔚蟿喂魏蠈)","postbox-website":"螜蟽蟿慰蟽蔚位委未伪 (蟺蟻慰伪喂蟻蔚蟿喂魏蠈)","postbox-preview":"螤蟻蔚渭喂苇蟻伪","postbox-edit":"螘蟺蔚尉蔚蟻纬伪蟽委伪","postbox-submit":"违蟺慰尾慰位萎","num-comments":"螆谓伪 蟽蠂蠈位喂慰\n{{ n }} 蟽蠂蠈位喂伪","no-comments":"螖蔚谓 蠀蟺维蟻蠂慰蠀谓 蟽蠂蠈位喂伪","comment-reply":"螒蟺维谓蟿畏蟽畏","comment-edit":"螘蟺蔚尉蔚蟻纬伪蟽委伪","comment-save":"螒蟺慰胃萎魏蔚蠀蟽畏","comment-delete":"螖喂伪纬蟻伪蠁萎","comment-confirm":"螘蟺喂尾蔚尾伪委蠅蟽畏","comment-close":"螝位蔚委蟽喂渭慰","comment-cancel":"螒魏蠉蟻蠅蟽畏","comment-deleted":"螖喂伪纬蟻伪渭渭苇谓慰 蟽蠂蠈位喂慰 ","comment-queued":"韦慰 蟽蠂蠈位喂慰 伪谓伪渭苇谓蔚喂 苇纬魏蟻喂蟽畏","comment-anonymous":"螒谓蠋谓蠀渭慰蟼","comment-hidden":"{{ n }} 螝蟻蠀渭渭苇谓伪","date-now":"蟿蠋蟻伪","date-minute":"蟺蟻喂谓 苇谓伪 位蔚蟺蟿蠈\n蟺蟻喂谓 {{ n }} 位蔚蟺蟿维","date-hour":"蟺蟻喂谓 渭委伪 蠋蟻伪\n蟺蟻喂谓 {{ n }} 蠋蟻蔚蟼","date-day":"围蟿蔚蟼\n蟺蟻喂谓 {{ n }} 渭苇蟻蔚蟼","date-week":"蟿畏谓 蟺蟻慰畏纬慰蠉渭蔚谓畏 蔚尾未慰渭维未伪\n蟺蟻喂谓 {{ n }} 蔚尾未慰渭维未蔚蟼","date-month":"蟿慰谓 蟺蟻慰畏纬慰蠉渭蔚谓慰 渭萎谓伪\n蟺蟻喂谓 {{ n }} 渭萎谓蔚蟼","date-year":"蟺苇蟻蠀蟽喂\n蟺蟻喂谓 {{ n }} 蠂蟻蠈谓喂伪"}),define("app/i18n/es",{"postbox-text":"Escriba su comentario aqu铆 (al menos 3 caracteres)","postbox-author":"Nombre (opcional)","postbox-email":"E-mail (opcional)","postbox-website":"Sitio web (opcional)","postbox-preview":"Vista preliminar","postbox-edit":"Editar","postbox-submit":"Enviar","num-comments":"Un Comentario\n{{ n }} Comentarios","no-comments":"Sin Comentarios Todav铆a","comment-reply":"Responder","comment-edit":"Editar","comment-save":"Guardar","comment-delete":"Eliminar","comment-confirm":"Confirmar","comment-close":"Cerrar","comment-cancel":"Cancelar","comment-deleted":"Comentario eliminado.","comment-queued":"Comentario en espera para moderaci贸n.","comment-anonymous":"An贸nimo","comment-hidden":"{{ n }} Oculto(s)","date-now":"ahora","date-minute":"hace un minuto\nhace {{ n }} minutos","date-hour":"hace una hora\nhace {{ n }} horas","date-day":"ayer\nHace {{ n }} d铆as","date-week":"la semana pasada\nhace {{ n }} semanas","date-month":"el mes pasado\nhace {{ n }} meses","date-year":"el a帽o pasado\nhace {{ n }} a帽os"}),define("app/i18n/vi",{"postbox-text":"Nh岷璸 b矛nh lu岷璶 t岷 膽芒y (t峄慽 thi峄僽 3 k媒 t峄�)","postbox-author":"T锚n (t霉y ch峄峮)","postbox-email":"E-mail (t霉y ch峄峮)","postbox-website":"Website (t霉y ch峄峮)","postbox-preview":"Xem tr瓢峄沜","postbox-edit":"S峄璦","postbox-submit":"G峄璱","num-comments":"M峄檛 b矛nh lu岷璶\n{{ n }} b矛nh lu岷璶","no-comments":"Ch瓢a c贸 b矛nh lu岷璶 n脿o","comment-reply":"Tr岷� l峄漣","comment-edit":"S峄璦","comment-save":"L瓢u","comment-delete":"X贸a","comment-confirm":"X谩c nh岷璶","comment-close":"膼贸ng","comment-cancel":"H峄","comment-deleted":"膼茫 x贸a b矛nh lu岷璶.","comment-queued":"B矛nh lu岷璶 膽ang ch峄� duy峄噒","comment-anonymous":"N岷穋 danh","comment-hidden":"{{ n }} 膽茫 岷﹏","date-now":"v峄玜 m峄沬","date-minute":"m峄檛 ph煤t tr瓢峄沜\n{{ n }} ph煤t tr瓢峄沜","date-hour":"m峄檛 gi峄� tr瓢峄沜\n{{ n }} gi峄� tr瓢峄沜","date-day":"H么m qua\n{{ n }} ng脿y tr瓢峄沜","date-week":"Tu岷 qua\n{{ n }} tu岷 tr瓢峄沜","date-month":"Th谩ng tr瓢峄沜\n{{ n }} th谩ng tr瓢峄沜","date-year":"N膬m tr瓢峄沜\n{{ n }} n膬m tr瓢峄沜"}),define("app/i18n/zh_CN",{"postbox-text":"鍦ㄦ杈撳叆璇勮 (鏈€灏� 3 涓瓧绗�)","postbox-author":"鍚嶅瓧 (鍙€�)","postbox-email":"鐢靛瓙閭 (鍙€�)","postbox-website":"缃戠珯 (鍙€�)","postbox-preview":"棰勮","postbox-edit":"缂栬緫","postbox-submit":"鎻愪氦","postbox-notification":"鏈夋柊鍥炲鏃跺彂閫侀偖浠堕€氱煡","num-comments":"1 鏉¤瘎璁篭n{{ n }} 鏉¤瘎璁�","no-comments":"杩樻病鏈夎瘎璁�","comment-reply":"鍥炲","comment-edit":"缂栬緫","comment-save":"淇濆瓨","comment-delete":"鍒犻櫎","comment-confirm":"纭","comment-close":"鍏抽棴","comment-cancel":"鍙栨秷","comment-deleted":"璇勮宸插垹闄�.","comment-queued":"璇勮寰呭鏍�.","comment-anonymous":"鍖垮悕","comment-hidden":"{{ n }} 鏉¤瘎璁哄凡闅愯棌","date-now":"鍒氬垰","date-minute":"1 鍒嗛挓鍓峔n{{ n }} 鍒嗛挓鍓�","date-hour":"1 灏忔椂鍓峔n{{ n }} 灏忔椂鍓�","date-day":"鏄ㄥぉ\n{{ n }} 澶╁墠","date-week":"涓婂懆\n{{ n }} 鍛ㄥ墠","date-month":"涓婁釜鏈圽n{{ n }} 涓湀鍓�","date-year":"鍘诲勾\n{{ n }} 骞村墠"}),define("app/i18n/zh_TW",{"postbox-text":"鍦ㄦ杓稿叆鐣欒█ (鑷冲皯 3 鍊嬪瓧鍏�)","postbox-author":"鍚嶇ū (闈炲繀濉�)","postbox-email":"闆诲瓙淇＄ (闈炲繀濉�)","postbox-website":"鍊嬩汉缍茬珯 (闈炲繀濉�)","postbox-preview":"闋愯","postbox-edit":"绶ㄨ集","postbox-submit":"閫佸嚭","postbox-notification":"瑷傞柋鍥炲鐨勯浕瀛愰兊浠堕€氱煡","num-comments":"1 鍓囩暀瑷€\n{{ n }} 鍓囩暀瑷€","no-comments":"灏氱劇鐣欒█","comment-reply":"鍥炶","comment-edit":"绶ㄨ集","comment-save":"鍎插瓨","comment-delete":"鍒櫎","comment-confirm":"纰鸿獚","comment-close":"闂滈枆","comment-cancel":"鍙栨秷","comment-deleted":"鐣欒█宸插埅","comment-queued":"鐣欒█寰呭","comment-anonymous":"鍖垮悕","comment-hidden":"{{ n }} 鍓囬毐钘忕暀瑷€","date-now":"鍓涘墰","date-minute":"1 鍒嗛悩鍓峔n{{ n }} 鍒嗛悩鍓�","date-hour":"1 灏忔檪鍓峔n{{ n }} 灏忔檪鍓�","date-day":"鏄ㄥぉ\n{{ n }} 澶╁墠","date-week":"涓婇€盶n{{ n }} 閫卞墠","date-month":"涓婂€嬫湀\n{{ n }} 鍊嬫湀鍓�","date-year":"鍘诲勾\n{{ n }} 骞村墠"}),define("app/i18n",["app/config","app/i18n/bg","app/i18n/cs","app/i18n/da","app/i18n/de","app/i18n/en","app/i18n/fa","app/i18n/fi","app/i18n/fr","app/i18n/hr","app/i18n/hu","app/i18n/ru","app/i18n/it","app/i18n/eo","app/i18n/sv","app/i18n/nl","app/i18n/el_GR","app/i18n/es","app/i18n/vi","app/i18n/zh_CN","app/i18n/zh_CN","app/i18n/zh_TW"],function(e,t,n,o,i,a,r,s,m,c,p,d,l,u,f,h,v,b,x,g,w,y){"use strict";var k=function(e){switch(e){case"bg":case"cs":case"da":case"de":case"el":case"en":case"es":case"eo":case"fa":case"fi":case"hr":case"hu":case"it":case"sv":case"nl":case"vi":case"zh":case"zh_CN":case"zh_TW":return function(e,t){return e[1===t?0:1]};case"fr":return function(e,t){return e[t>1?1:0]};case"ru":return function(e,t){return t%10==1&&t%100!=11?e[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?e[1]:void 0!==e[2]?e[2]:e[1]};default:return null}},j=e.lang;k(j)||(j="en");var z={bg:t,cs:n,da:o,de:i,el:v,en:a,eo:u,es:b,fa:r,fi:s,fr:m,it:l,hr:c,hu:p,ru:d,sv:f,nl:h,vi:x,zh:w,zh_CN:w,zh_TW:y},S=k(j),C=function(t){return e[t+"-text-"+j]||z[j][t]||a[t]||"???"};return{lang:j,translate:C,pluralize:function(e,t){var n;return n=C(e),n.indexOf("\n")>-1&&(n=S(n.split("\n"),+t)),n?n.replace("{{ n }}",+t):n}}}),define("app/lib/promise",[],function(){"use strict";var e=function(e){console.log(e)},t=function(){this.success=[],this.errors=[]};t.prototype.then=function(t,n){this.success.push(t),n?this.errors.push(n):this.errors.push(e)};var n=function(){this.promise=new t};n.prototype={promise:t,resolve:function(e){this.promise.success.forEach(function(t){window.setTimeout(function(){t(e)},0)})},reject:function(e){this.promise.errors.forEach(function(t){window.setTimeout(function(){t(e)},0)})}};var o=function(e,n){return e instanceof t?e.then(n):n(e)};return{defer:function(){return new n},when:o}}),define("app/globals",[],function(){"use strict";var e=function(){this.values=[]};return e.prototype.update=function(e){this.values.push((new Date).getTime()-e.getTime())},e.prototype.localTime=function(){return new Date((new Date).getTime()-this.values.reduce(function(e,t){return e+t})/this.values.length)},{offset:new e}}),define("app/api",["app/lib/promise","app/globals"],function(e,t){"use strict";for(var n,o,i=function(){return window.location.pathname},a=document.getElementsByTagName("script"),r=0;r<a.length;r++)if(a[r].hasAttribute("data-isso")){o=a[r].getAttribute("data-isso");break}if(!o){for(r=0;r<a.length;r++)if(a[r].getAttribute("async")||a[r].getAttribute("defer"))throw"Isso's automatic configuration detection failed, please refer to https://github.com/posativ/isso#client-configuration and add a custom `data-isso` attribute.";n=a[a.length-1],o=n.src.substring(0,n.src.length-"/js/embed.min.js".length)}"/"===o[o.length-1]&&(o=o.substring(0,o.length-1));var s=function(e,n,o,i,a){function r(){var e=s.getResponseHeader("Date");null!==e&&t.offset.update(new Date(e));var n=s.getResponseHeader("X-Set-Cookie");n&&n.match(/^isso-/)&&(document.cookie=n),s.status>=500?a&&a(s.body):i({status:s.status,body:s.responseText})}var s=new XMLHttpRequest;try{s.open(e,n,!0),s.withCredentials=!0,s.setRequestHeader("Content-Type","application/json"),s.onreadystatechange=function(){4===s.readyState&&r()}}catch(e){(a||console.log)(e.message)}s.send(o)},m=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&null!==e[n]&&void 0!==e[n]&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.substring(0,t.length-1)};return{endpoint:o,salt:"Eech7co8Ohloopo9Ol6baimi",create:function(t,n){var a=e.defer();return s("POST",o+"/new?"+m({uri:t||i()}),JSON.stringify(n),function(e){201===e.status||202===e.status?a.resolve(JSON.parse(e.body)):a.reject(e.body)}),a.promise},modify:function(t,n){var i=e.defer();return s("PUT",o+"/id/"+t,JSON.stringify(n),function(e){403===e.status?i.reject("Not authorized to modify this comment!"):200===e.status?i.resolve(JSON.parse(e.body)):i.reject(e.body)}),i.promise},remove:function(t){var n=e.defer();return s("DELETE",o+"/id/"+t,null,function(e){403===e.status?n.reject("Not authorized to remove this comment!"):200===e.status?n.resolve(null===JSON.parse(e.body)):n.reject(e.body)}),n.promise},view:function(t,n){var i=e.defer();return s("GET",o+"/id/"+t+"?"+m({plain:n}),null,function(e){i.resolve(JSON.parse(e.body))}),i.promise},fetch:function(t,n,a,r,c){void 0===n&&(n="inf"),void 0===a&&(a="inf"),void 0===r&&(r=null);var p={uri:t||i(),after:c,parent:r};"inf"!==n&&(p.limit=n),"inf"!==a&&(p.nested_limit=a);var d=e.defer();return s("GET",o+"/?"+m(p),null,function(e){200===e.status?d.resolve(JSON.parse(e.body)):404===e.status?d.resolve({total_replies:0}):d.reject(e.body)}),d.promise},count:function(t){var n=e.defer();return s("POST",o+"/count",JSON.stringify(t),function(e){200===e.status?n.resolve(JSON.parse(e.body)):n.reject(e.body)}),n.promise},like:function(t){var n=e.defer();return s("POST",o+"/id/"+t+"/like",null,function(e){n.resolve(JSON.parse(e.body))}),n.promise},dislike:function(t){var n=e.defer();return s("POST",o+"/id/"+t+"/dislike",null,function(e){n.resolve(JSON.parse(e.body))}),n.promise},feed:function(e){return o+"/feed?"+m({uri:e||i()})},preview:function(t){var n=e.defer();return s("POST",o+"/preview",JSON.stringify({text:t}),function(e){200===e.status?n.resolve(JSON.parse(e.body).text):n.reject(e.body)}),n.promise}}}),define("app/dom",[],function(){"use strict";function e(e){this.obj=e,this.replace=function(t){var o=n.htmlify(t);return e.parentNode.replaceChild(o.obj,e),o},this.prepend=function(t){var o=n.htmlify(t);return e.insertBefore(o.obj,e.firstChild),o},this.append=function(t){var o=n.htmlify(t);return e.appendChild(o.obj),o},this.insertAfter=function(t){var o=n.htmlify(t);return e.parentNode.insertBefore(o.obj,e.nextSibling),o},this.on=function(t,n,o){e.addEventListener(t,function(e){n(e),(void 0===o||o)&&e.preventDefault()})},this.toggle=function(e,n,o){var i=new t(n,o);this.on(e,function(){i.next()})},this.detach=function(){return e.parentNode.removeChild(this.obj),this},this.remove=function(){e.parentNode.removeChild(this.obj)},this.show=function(){e.style.display="block"},this.hide=function(){e.style.display="none"},this.setText=function(t){e.textContent=t},this.setHtml=function(t){e.innerHTML=t},this.blur=function(){e.blur()},this.focus=function(){e.focus()},this.scrollIntoView=function(t){e.scrollIntoView(t)},this.checked=function(){return e.checked},this.setAttribute=function(t,n){e.setAttribute(t,n)},this.getAttribute=function(t){return e.getAttribute(t)},this.classList=e.classList,Object.defineProperties(this,{textContent:{get:function(){return e.textContent},set:function(t){e.textContent=t}},innerHTML:{get:function(){return e.innerHTML},set:function(t){e.innerHTML=t}},value:{get:function(){return e.value},set:function(t){e.value=t}},placeholder:{get:function(){return e.placeholder},set:function(t){e.placeholder=t}}})}var t=function(e,t){this.state=!1,this.next=function(){this.state?(this.state=!1,t(this)):(this.state=!0,e(this))},this.wait=function(){this.state=!this.state}},n=function(t,n,o){void 0===o&&(o=!0),n||(n=window.document),n instanceof e&&(n=n.obj);var i=[].slice.call(n.querySelectorAll(t),0);return 0===i.length?null:1===i.length&&o?new e(i[0]):(i=[].slice.call(i,0),i.map(function(t){return new e(t)}))};return n.htmlify=function(t){if(t instanceof e)return t;if(t instanceof window.Element)return new e(t);var o=n.new("div");return o.innerHTML=t,new e(o.firstChild)},n.new=function(e,t){var n=document.createElement(e.split(".")[0])
;return e.split(".").slice(1).forEach(function(e){n.classList.add(e)}),["A","LINK"].indexOf(n.nodeName)>-1&&(n.href="#"),t||0===t||(t=""),["TEXTAREA","INPUT"].indexOf(n.nodeName)>-1?n.value=t:n.textContent=t,n},n.each=function(e,t){Array.prototype.forEach.call(document.getElementsByTagName(e),t)},n}),define("app/utils",["app/i18n"],function(e){"use strict";var t,n=function(e){return(document.cookie.match("(^|; )"+e+"=([^;]*)")||0)[2]},o=function(e,t,n){return n=n||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(n)+e},i=function(t,n){var o=(t.getTime()-n.getTime())/1e3;(isNaN(o)||o<0)&&(o=0);var i=Math.floor(o/60),a=Math.floor(i/60),r=Math.floor(a/24);return o<=45&&e.translate("date-now")||o<=90&&e.pluralize("date-minute",1)||i<=45&&e.pluralize("date-minute",i)||i<=90&&e.pluralize("date-hour",1)||a<=22&&e.pluralize("date-hour",a)||a<=36&&e.pluralize("date-day",1)||r<=5&&e.pluralize("date-day",r)||r<=8&&e.pluralize("date-week",1)||r<=21&&e.pluralize("date-week",Math.floor(r/7))||r<=45&&e.pluralize("date-month",1)||r<=345&&e.pluralize("date-month",Math.floor(r/30))||r<=547&&e.pluralize("date-year",1)||e.pluralize("date-year",Math.floor(r/365.25))},a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},r=function(e){return String(e).replace(/[&<>"'\/]/g,function(e){return a[e]})},s=function(e){var t=document.createElement("div");return t.innerHTML=e.replace(/<div><br><\/div>/gi,"<br>").replace(/<div>/gi,"<br>").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," "),t.textContent.trim()},m=function(e){return e=r(e),e.replace(/\n\n/gi,"<br><div><br></div>").replace(/\n/gi,"<br>")};try{localStorage.setItem("x","y"),localStorage.removeItem("x"),t=localStorage}catch(e){t=function(e){return{setItem:function(t,n){e[t]=n},getItem:function(t){return void 0!==e[t]?e[t]:null},removeItem:function(t){delete e[t]}}}({})}return{cookie:n,pad:o,ago:i,text:s,detext:m,localStorageImpl:t}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("libjs-jade-runtime",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jade=e()}}(function(){return function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var m="function"==typeof require&&require;if(!s&&m)return m(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[r]={exports:{}};t[r][0].call(p.exports,function(e){var n=t[r][1][e];return i(n||e)},p,p.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(e,t,n){"use strict";function o(e){return null!=e&&""!==e}function i(e){return(Array.isArray(e)?e.map(i):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(o).join(" ")}function a(e){return s[e]||e}function r(e){var t=String(e).replace(m,a);return t===""+e?e:t}n.merge=function e(t,n){if(1===arguments.length){for(var i=t[0],a=1;a<t.length;a++)i=e(i,t[a]);return i}var r=t.class,s=n.class;(r||s)&&(r=r||[],s=s||[],Array.isArray(r)||(r=[r]),Array.isArray(s)||(s=[s]),t.class=r.concat(s).filter(o));for(var m in n)"class"!=m&&(t[m]=n[m]);return t},n.joinClasses=i,n.cls=function(e,t){for(var o=[],a=0;a<e.length;a++)t&&t[a]?o.push(n.escape(i([e[a]]))):o.push(i(e[a]));var r=i(o);return r.length?' class="'+r+'"':""},n.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},n.attr=function(e,t,o,i){return"style"===e&&(t=n.style(t)),"boolean"==typeof t||null==t?t?" "+(i?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof t?(-1!==JSON.stringify(t).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),t&&"function"==typeof t.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+e+"='"+JSON.stringify(t).replace(/'/g,"&apos;")+"'"):o?(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+n.escape(t)+'"'):(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+t+'"')},n.attrs=function(e,t){var o=[],a=Object.keys(e);if(a.length)for(var r=0;r<a.length;++r){var s=a[r],m=e[s];"class"==s?(m=i(m))&&o.push(" "+s+'="'+m+'"'):o.push(n.attr(s,m,!1,t))}return o.join("")};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},m=/[&<>"]/g;n.escape=r,n.rethrow=function t(n,o,i,a){if(!(n instanceof Error))throw n;if(!("undefined"==typeof window&&o||a))throw n.message+=" on line "+i,n;try{a=a||e("fs").readFileSync(o,"utf8")}catch(e){t(n,null,i)}var r=3,s=a.split("\n"),m=Math.max(i-r,0),c=Math.min(s.length,i+r),r=s.slice(m,c).map(function(e,t){var n=t+m+1;return(n==i?"  > ":"    ")+n+"| "+e}).join("\n");throw n.path=o,n.message=(o||"Jade")+":"+i+"\n"+r+"\n\n"+n.message,n},n.DebugItem=function(e,t){this.lineno=e,this.filename=t}},{fs:2}],2:[function(e,t,n){},{}]},{},[1])(1)}),define("jade",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("jade!app/text/postbox",function(){var e=function(e){return function(t){var n,o=[],i=t||{};return function(t,i,a,r){o.push('<div class="isso-postbox"><div class="form-wrapper"><div class="textarea-wrapper"><div contenteditable="true" class="textarea placeholder">'+e.escape(null==(n=t("postbox-text"))?"":n)+'</div><div class="preview"><div class="isso-comment"><div class="text-wrapper"><div class="text"></div></div></div></div></div><section class="auth-section"><p class="input-wrapper"><input type="text" name="author"'+e.attr("placeholder",t("postbox-author"),!0,!1)+e.attr("value",null!==i?""+i:"",!0,!1)+'/></p><p class="input-wrapper"><input type="email" name="email"'+e.attr("placeholder",t("postbox-email"),!0,!1)+e.attr("value",null!=a?""+a:"",!0,!1)+'/></p><p class="input-wrapper"><input type="text" name="website"'+e.attr("placeholder",t("postbox-website"),!0,!1)+e.attr("value",null!=r?""+r:"",!0,!1)+'/></p><p class="post-action"><input type="submit"'+e.attr("value",t("postbox-submit"),!0,!1)+'/></p><p class="post-action"><input type="button" name="preview"'+e.attr("value",t("postbox-preview"),!0,!1)+'/></p><p class="post-action"><input type="button" name="edit"'+e.attr("value",t("postbox-edit"),!0,!1)+'/></p></section><section class="notification-section"><label><input type="checkbox" name="notification"/>'+e.escape(null==(n=t("postbox-notification"))?"":n)+"</label></section></div></div>")}("i18n"in i?i.i18n:"undefined"!=typeof i18n?i18n:void 0,"author"in i?i.author:"undefined"!=typeof author?author:void 0,"email"in i?i.email:"undefined"!=typeof email?email:void 0,"website"in i?i.website:"undefined"!=typeof website?website:void 0),o.join("")}};return e.compiled=!0,e}),define("jade!app/text/comment",function(){var e=function(e){return function(t){var n,o=[],i=t||{};return function(t,i,a,r,s,m,c){o.push("<div"+e.attr("id","isso-"+t.id,!0,!1)+' class="isso-comment">'),i.gravatar&&o.push('<div class="avatar"><img'+e.attr("src",""+t.gravatar_image,!0,!1)+"/></div>"),i.avatar&&o.push('<div class="avatar"><svg'+e.attr("data-hash",""+t.hash,!0,!1)+"></svg></div>"),o.push('<div class="text-wrapper"><div role="meta" class="isso-comment-header">'),a(t.website)?o.push("<a"+e.attr("href",""+t.website,!0,!1)+' rel="nofollow" class="author">'+e.escape(null==(n=a(t.author)?t.author:r("comment-anonymous"))?"":n)+"</a>"):o.push('<span class="author">'+e.escape(null==(n=a(t.author)?t.author:r("comment-anonymous"))?"":n)+"</span>"),o.push('<span class="spacer">&bull;</span><a'+e.attr("href","#isso-"+t.id,!0,!1)+' class="permalink"><time'+e.attr("title",""+s(t.created),!0,!1)+e.attr("datetime",""+m(t.created),!0,!1)+'></time></a><span class="note">'+e.escape(null==(n=2==t.mode?r("comment-queued"):4==t.mode?r("comment-deleted"):"")?"":n)+'</span></div><div class="text">'),4==t.mode?o.push("<p>&nbsp;</p>"):o.push(null==(n=t.text)?"":n),o.push('</div><div class="isso-comment-footer">'),i.vote&&o.push('<a href="#" class="upvote">'+(null==(n=c["arrow-up"])?"":n)+'</a><span class="spacer">|</span><a href="#" class="downvote">'+(null==(n=c["arrow-down"])?"":n)+"</a>"),o.push('<a href="#" class="reply">'+e.escape(null==(n=r("comment-reply"))?"":n)+'</a><a href="#" class="edit">'+e.escape(null==(n=r("comment-edit"))?"":n)+'</a><a href="#" class="delete">'+e.escape(null==(n=r("comment-delete"))?"":n)+'</a></div><div class="isso-follow-up"></div></div></div>')}("comment"in i?i.comment:"undefined"!=typeof comment?comment:void 0,"conf"in i?i.conf:"undefined"!=typeof conf?conf:void 0,"bool"in i?i.bool:"undefined"!=typeof bool?bool:void 0,"i18n"in i?i.i18n:"undefined"!=typeof i18n?i18n:void 0,"humanize"in i?i.humanize:"undefined"!=typeof humanize?humanize:void 0,"datetime"in i?i.datetime:"undefined"!=typeof datetime?datetime:void 0,"svg"in i?i.svg:"undefined"!=typeof svg?svg:void 0),o.join("")}};return e.compiled=!0,e}),define("jade!app/text/comment-loader",function(){var e=function(e){return function(t){var n,o=[],i=t||{};return function(t,i){o.push("<div"+e.attr("id","isso-loader-"+t.name,!0,!1)+' class="isso-comment-loader"><a href="#" class="load_hidden">'+e.escape(null==(n=i("comment-hidden",t.hidden_replies))?"":n)+"</a></div>")}("comment"in i?i.comment:"undefined"!=typeof comment?comment:void 0,"pluralize"in i?i.pluralize:"undefined"!=typeof pluralize?pluralize:void 0),o.join("")}};return e.compiled=!0,e}),define("app/jade",["libjs-jade-runtime","app/utils","jade!app/text/postbox","jade!app/text/comment","jade!app/text/comment-loader"],function(runtime,utils,tt_postbox,tt_comment,tt_comment_loader){"use strict";var globals={},templates={},load=function(name,js){templates[name]=function(jade){var fn;return js.compiled?js(jade):(eval("fn = "+js),fn)}(runtime)},set=function(e,t){globals[e]=t};return load("postbox",tt_postbox),load("comment",tt_comment),load("comment-loader",tt_comment_loader),set("bool",function(e){return!!e}),set("humanize",function(e){return"object"!=typeof e&&(e=new Date(1e3*parseInt(e,10))),e.toString()}),set("datetime",function(e){return"object"!=typeof e&&(e=new Date(1e3*parseInt(e,10))),[e.getUTCFullYear(),utils.pad(e.getUTCMonth(),2),utils.pad(e.getUTCDay(),2)].join("-")+"T"+[utils.pad(e.getUTCHours(),2),utils.pad(e.getUTCMinutes(),2),utils.pad(e.getUTCSeconds(),2)].join(":")+"Z"}),{set:set,render:function(e,t){var n;if(!templates[e])throw new Error("Template not found: '"+e+"'");t=t||{};var o=[];for(var i in t)t.hasOwnProperty(i)&&!globals.hasOwnProperty(i)&&(o.push(i),globals[i]=t[i]);n=templates[e](globals);for(var a=0;a<o.length;a++)delete globals[o[a]];return n}}}),define("app/lib/editor",["app/dom","app/i18n"],function(e,t){"use strict";return function(n){return n=e.htmlify(n),n.setAttribute("contentEditable",!0),n.on("focus",function(){n.classList.contains("placeholder")&&(n.innerHTML="",n.classList.remove("placeholder"))}),n.on("blur",function(){0===n.textContent.length&&(n.textContent=t.translate("postbox-text"),n.classList.add("placeholder"))}),n}}),define("app/lib/identicons",["app/lib/promise","app/config"],function(e,t){"use strict";var n=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},o=function(e,t,n,o,i,a){var r=document.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("x",o+t*i),r.setAttribute("y",o+n*i),r.setAttribute("width",i),r.setAttribute("height",i),r.setAttribute("style","fill: "+a),e.appendChild(r)},i=function(i,a,r){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");return s.setAttribute("version","1.1"),s.setAttribute("viewBox","0 0 "+r+" "+r),s.setAttribute("preserveAspectRatio","xMinYMin meet"),s.setAttribute("shape-rendering","crispEdges"),o(s,0,0,0,r+2*a,t["avatar-bg"]),null===typeof i?s:(e.when(i,function(e){var i=n((parseInt(e.substr(-16),16)%Math.pow(2,18)).toString(2),18),r=0;s.setAttribute("data-hash",e);for(var m=parseInt(i.substring(i.length-3,i.length),2),c=t["avatar-fg"][m%t["avatar-fg"].length],p=0;p<Math.ceil(2.5);p++)for(var d=0;d<5;d++)"1"===i.charAt(r)&&(o(s,p,d,a,8,c),p<Math.floor(2.5)&&o(s,4-p,d,a,8,c)),r++}),s)};return{generate:i,blank:function(e,t){var n=parseInt([0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0,1,0].join(""),2).toString(16),o=i(n,e,t);return o.setAttribute("className","blank"),o}}}),define("app/lib",["require","app/lib/editor","app/lib/identicons"],function(e){return{editorify:e("app/lib/editor"),identicons:e("app/lib/identicons")}}),define("app/isso",["app/dom","app/utils","app/config","app/api","app/jade","app/i18n","app/lib","app/globals"],function(e,t,n,o,i,a,r,s){"use strict";var m=function(a){var s=t.localStorageImpl,m=e.htmlify(i.render("postbox",{author:JSON.parse(s.getItem("author")),email:JSON.parse(s.getItem("email")),website:JSON.parse(s.getItem("website")),preview:""}));m.onsuccess=function(){},m.validate=function(){return t.text(e(".textarea",this).innerHTML).length<3||e(".textarea",this).classList.contains("placeholder")?(e(".textarea",this).focus(),!1):n["require-email"]&&e("[name='email']",this).value.length<=0?(e("[name='email']",this).focus(),!1):!(n["require-author"]&&e("[name='author']",this).value.length<=0)||(e("[name='author']",this).focus(),!1)};var c=function(){n["reply-notifications"]&&e("[name='email']",m).value.length>0?e(".notification-section",m).show():e(".notification-section",m).hide()};e("[name='email']",m).on("input",c),c(),n["require-email"]&&e("[name='email']",m).setAttribute("placeholder",e("[name='email']",m).getAttribute("placeholder").replace(/ \(.*\)/,"")),n["require-author"]&&(e("[name='author']",m).placeholder=e("[name='author']",m).placeholder.replace(/ \(.*\)/,"")),e("[name='preview']",m).on("click",function(){o.preview(t.text(e(".textarea",m).innerHTML)).then(function(t){e(".preview .text",m).innerHTML=t,m.classList.add("preview-mode")})});var d=function(){e(".preview .text",m).innerHTML="",m.classList.remove("preview-mode")};return e("[name='edit']",m).on("click",d),e(".preview",m).on("click",d),e("[type=submit]",m).on("click",function(){if(d(),m.validate()){var n=e("[name=author]",m).value||null,i=e("[name=email]",m).value||null,r=e("[name=website]",m).value||null;s.setItem("author",JSON.stringify(n)),s.setItem("email",JSON.stringify(i)),s.setItem("website",JSON.stringify(r)),o.create(e("#isso-thread").getAttribute("data-isso-id"),{author:n,email:i,website:r,text:t.text(e(".textarea",m).innerHTML),parent:a||null,title:e("#isso-thread").getAttribute("data-title")||null,notification:e("[name=notification]",m).checked()?1:0}).then(function(t){e(".textarea",m).innerHTML="",e(".textarea",m).blur(),p(t,!0),null!==a&&m.onsuccess()})}}),r.editorify(e(".textarea",m)),m},c=function(t,a){var r;null===t.id?(r=e("#isso-root"),t.name="null"):(r=e("#isso-"+t.id+" > .text-wrapper > .isso-follow-up"),t.name=t.id);var s=e.htmlify(i.render("comment-loader",{comment:t}));r.append(s),e("a.load_hidden",s).on("click",function(){s.remove(),o.fetch(e("#isso-thread").getAttribute("data-isso-id"),n["reveal-on-click"],n["max-comments-nested"],t.id,a).then(function(e){if(0!==e.total_replies){var t=0;e.replies.forEach(function(e){p(e,!1),e.created>t&&(t=e.created)}),e.hidden_replies>0&&c(e,t)}},function(e){console.log(e)})})},p=function(d,l){var u=e.htmlify(i.render("comment",{comment:d})),f=function(){e(".permalink > time",u).textContent=t.ago(s.offset.localTime(),new Date(1e3*parseInt(d.created,10))),setTimeout(f,6e4)};f(),n.avatar&&e("div.avatar > svg",u).replace(r.identicons.generate(d.hash,4,48));var h;h=e(null===d.parent?"#isso-root":"#isso-"+d.parent+" > .text-wrapper > .isso-follow-up"),h.append(u),l&&u.scrollIntoView();var v=e("#isso-"+d.id+" > .text-wrapper > .isso-comment-footer"),b=e("#isso-"+d.id+" > .text-wrapper > .isso-comment-header"),x=e("#isso-"+d.id+" > .text-wrapper > .text"),g=null;if(e("a.reply",v).toggle("click",function(t){g=v.insertAfter(new m(null===d.parent?d.id:d.parent)),g.onsuccess=function(){t.next()},e(".textarea",g).focus(),e("a.reply",v).textContent=a.translate("comment-close")},function(){g.remove(),e("a.reply",v).textContent=a.translate("comment-reply")}),n.vote){var w=n["vote-levels"];"string"==typeof w&&(w=w.split(","));var y=function(t){var n=e("span.votes",v);if(null===n?v.prepend(e.new("span.votes",t)):n.textContent=t,t?u.classList.remove("isso-no-votes"):u.classList.add("isso-no-votes"),w)for(var o=!0,i=0;i<=w.length;i++)o&&(i>=w.length||t<w[i])?(u.classList.add("isso-vote-level-"+i),o=!1):u.classList.remove("isso-vote-level-"+i)};e("a.upvote",v).on("click",function(){o.like(d.id).then(function(e){y(e.likes-e.dislikes)})}),e("a.downvote",v).on("click",function(){o.dislike(d.id).then(function(e){y(e.likes-e.dislikes)})}),y(d.likes-d.dislikes)}e("a.edit",v).toggle("click",function(i){var s=e("a.edit",v),m=n.avatar||n.gravatar?e(".avatar",u,!1)[0]:null;s.textContent=a.translate("comment-save"),s.insertAfter(e.new("a.cancel",a.translate("comment-cancel"))).on("click",function(){i.canceled=!0,i.next()}),i.canceled=!1,o.view(d.id,1).then(function(n){var o=r.editorify(e.new("div.textarea"));o.innerHTML=t.detext(n.text),o.focus(),x.classList.remove("text"),x.classList.add("textarea-wrapper"),x.textContent="",x.append(o)}),null!==m&&m.hide()},function(i){var r=e(".textarea",x),s=n.avatar||n.gravatar?e(".avatar",u,!1)[0]:null;if(i.canceled||null===r)x.innerHTML=d.text;else{if(t.text(r.innerHTML).length<3)return r.focus(),void i.wait();o.modify(d.id,{text:t.text(r.innerHTML)}).then(function(e){x.innerHTML=e.text,d.text=e.text})}x.classList.remove("textarea-wrapper"),x.classList.add("text"),null!==s&&s.show(),e("a.cancel",v).remove(),e("a.edit",v).textContent=a.translate("comment-edit")}),e("a.delete",v).toggle("click",function(t){var n=e("a.delete",v),o=!t.state;n.textContent=a.translate("comment-confirm"),n.on("mouseout",function(){n.textContent=a.translate("comment-delete"),t.state=o,n.onmouseout=null})},function(){var t=e("a.delete",v);o.remove(d.id).then(function(n){n?u.remove():(e("span.note",b).textContent=a.translate("comment-deleted"),x.innerHTML="<p>&nbsp;</p>",e("a.edit",v).remove(),e("a.delete",v).remove()),t.textContent=a.translate("comment-delete")})});var k=function(n){t.cookie("isso-"+d.id)?setTimeout(function(){k(n)},15e3):null!==e(n,v)&&e(n,v).remove()};k("a.edit"),k("a.delete");var j=function(e){t.cookie("isso-"+d.id)?setTimeout(function(){j(e)},15e3):v.append(e)};if(!n["reply-to-self"]&&t.cookie("isso-"+d.id)&&j(e("a.reply",v).detach()),d.hasOwnProperty("replies")){var z=0;d.replies.forEach(function(e){p(e,!1),e.created>z&&(z=e.created)}),d.hidden_replies>0&&c(d,z)}};return{insert:p,insert_loader:c,Postbox:m}}),define("app/count",["app/api","app/dom","app/i18n"],function(e,t,n){return function(){var o={};t.each("a",function(e){if(e.href.match&&e.href.match(/#isso-thread$/)){var t=e.getAttribute("data-isso-id")||e.href.match(/^(.+)#isso-thread$/)[1].replace(/^.*\/\/[^\/]+/,"");t in o?o[t].push(e):o[t]=[e]}});var i=Object.keys(o);e.count(i).then(function(e){for(var t in o)if(o.hasOwnProperty(t))for(var a=i.indexOf(t),r=0;r<o[t].length;r++)o[t][r].textContent=n.pluralize("num-comments",e[a])})}}),define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("text!app/../../css/isso.css",[],function(){return'#isso-thread * {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n}\n#isso-thread .isso-comment-header a {\n    text-decoration: none;\n}\n\n#isso-thread {\n    padding: 0;\n    margin: 0;\n}\n#isso-thread > h4 {\n    color: #555;\n    font-weight: bold;\n}\n#isso-thread > .isso-feedlink {\n    float: right;\n    padding-left: 1em;\n}\n#isso-thread > .isso-feedlink > a {\n    font-size: 0.8em;\n    vertical-align: bottom;\n}\n#isso-thread .textarea {\n    min-height: 58px;\n    outline: 0;\n}\n#isso-thread .textarea.placeholder {\n    color: #757575;\n}\n\n#isso-root .isso-comment {\n    max-width: 68em;\n    padding-top: 0.95em;\n    margin: 0.95em auto;\n}\n#isso-root .preview .isso-comment {\n    padding-top: 0;\n    margin: 0;\n}\n#isso-root .isso-comment:not(:first-of-type),\n.isso-follow-up .isso-comment {\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n}\n.isso-comment > div.avatar {\n    display: block;\n    float: left;\n    width: 7%;\n    margin: 3px 15px 0 0;\n}\n.isso-comment > div.avatar > svg {\n    max-width: 48px;\n    max-height: 48px;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 3px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n.isso-comment > div.text-wrapper {\n    display: block;\n}\n.isso-comment .isso-follow-up {\n    padding-left: calc(7% + 20px);\n}\n.isso-comment > div.text-wrapper > .isso-comment-header, .isso-comment > div.text-wrapper > .isso-comment-footer {\n    font-size: 0.95em;\n}\n.isso-comment > div.text-wrapper > .isso-comment-header {\n    font-size: 0.85em;\n}\n.isso-comment > div.text-wrapper > .isso-comment-header .spacer {\n    padding: 0 6px;\n}\n.isso-comment > div.text-wrapper > .isso-comment-header .spacer,\n.isso-comment > div.text-wrapper > .isso-comment-header a.permalink,\n.isso-comment > div.text-wrapper > .isso-comment-header .note,\n.isso-comment > div.text-wrapper > .isso-comment-header a.parent {\n    color: gray !important;\n    font-weight: normal;\n    text-shadow: none !important;\n}\n.isso-comment > div.text-wrapper > .isso-comment-header .spacer:hover,\n.isso-comment > div.text-wrapper > .isso-comment-header a.permalink:hover,\n.isso-comment > div.text-wrapper > .isso-comment-header .note:hover,\n.isso-comment > div.text-wrapper > .isso-comment-header a.parent:hover {\n    color: #606060 !important;\n}\n.isso-comment > div.text-wrapper > .isso-comment-header .note {\n    float: right;\n}\n.isso-comment > div.text-wrapper > .isso-comment-header .author {\n    font-weight: bold;\n    color: #555;\n}\n.isso-comment > div.text-wrapper > .textarea-wrapper .textarea,\n.isso-comment > div.text-wrapper > .textarea-wrapper .preview {\n    margin-top: 0.2em;\n}\n.isso-comment > div.text-wrapper > div.text p {\n    margin-top: 0.2em;\n}\n.isso-comment > div.text-wrapper > div.text p:last-child {\n    margin-bottom: 0.2em;\n}\n.isso-comment > div.text-wrapper > div.text h1,\n.isso-comment > div.text-wrapper > div.text h2,\n.isso-comment > div.text-wrapper > div.text h3,\n.isso-comment > div.text-wrapper > div.text h4,\n.isso-comment > div.text-wrapper > div.text h5,\n.isso-comment > div.text-wrapper > div.text h6 {\n    font-size: 130%;\n    font-weight: bold;\n}\n.isso-comment > div.text-wrapper > div.textarea-wrapper .textarea,\n.isso-comment > div.text-wrapper > div.textarea-wrapper .preview {\n    width: 100%;\n    border: 1px solid #f0f0f0;\n    border-radius: 2px;\n    box-shadow: 0 0 2px #888;\n}\n.isso-comment > div.text-wrapper > .isso-comment-footer {\n    font-size: 0.80em;\n    color: gray !important;\n    clear: left;\n}\n.isso-feedlink,\n.isso-comment > div.text-wrapper > .isso-comment-footer a {\n    font-weight: bold;\n    text-decoration: none;\n}\n.isso-feedlink:hover,\n.isso-comment > div.text-wrapper > .isso-comment-footer a:hover {\n    color: #111111 !important;\n    text-shadow: #aaaaaa 0 0 1px !important;\n}\n.isso-comment > div.text-wrapper > .isso-comment-footer > a {\n    position: relative;\n    top: .2em;\n}\n.isso-comment > div.text-wrapper > .isso-comment-footer > a + a {\n    padding-left: 1em;\n}\n.isso-comment > div.text-wrapper > .isso-comment-footer .votes {\n    color: gray;\n}\n.isso-comment > div.text-wrapper > .isso-comment-footer .upvote svg,\n.isso-comment > div.text-wrapper > .isso-comment-footer .downvote svg {\n    position: relative;\n    top: .2em;\n}\n.isso-comment .isso-postbox {\n    margin-top: 0.8em;\n}\n.isso-comment.isso-no-votes span.votes {\n    display: none;\n}\n\n.isso-postbox {\n    max-width: 68em;\n    margin: 0 auto 2em;\n    clear: right;\n}\n.isso-postbox > .form-wrapper {\n    display: block;\n    padding: 0;\n}\n.isso-postbox > .form-wrapper > .auth-section,\n.isso-postbox > .form-wrapper > .auth-section .post-action {\n    display: block;\n}\n.isso-postbox > .form-wrapper .textarea,\n.isso-postbox > .form-wrapper .preview {\n    margin: 0 0 .3em;\n    padding: .4em .8em;\n    border-radius: 3px;\n    background-color: #fff;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n.isso-postbox > .form-wrapper input[type=checkbox] {\n    vertical-align: middle;\n    position: relative;\n    bottom: 1px;\n    margin-left: 0;\n}\n.isso-postbox > .form-wrapper .notification-section {\n    font-size: 0.90em;\n    padding-top: .3em;\n}\n#isso-thread .textarea:focus,\n#isso-thread input:focus {\n    border-color: rgba(0, 0, 0, 0.8);\n}\n.isso-postbox > .form-wrapper > .auth-section .input-wrapper {\n    display: inline-block;\n    position: relative;\n    max-width: 25%;\n    margin: 0;\n}\n.isso-postbox > .form-wrapper > .auth-section .input-wrapper input {\n    padding: .3em 10px;\n    max-width: 100%;\n    border-radius: 3px;\n    background-color: #fff;\n    line-height: 1.4em;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n.isso-postbox > .form-wrapper > .auth-section .post-action {\n    display: inline-block;\n    float: right;\n    margin: 0 0 0 5px;\n}\n.isso-postbox > .form-wrapper > .auth-section .post-action > input {\n    padding: calc(.3em - 1px);\n    border-radius: 2px;\n    border: 1px solid #CCC;\n    background-color: #DDD;\n    cursor: pointer;\n    outline: 0;\n    line-height: 1.4em;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n.isso-postbox > .form-wrapper > .auth-section .post-action > input:hover {\n    background-color: #CCC;\n}\n.isso-postbox > .form-wrapper > .auth-section .post-action > input:active {\n    background-color: #BBB;\n}\n.isso-postbox > .form-wrapper .preview,\n.isso-postbox > .form-wrapper input[name="edit"],\n.isso-postbox.preview-mode > .form-wrapper input[name="preview"],\n.isso-postbox.preview-mode > .form-wrapper .textarea {\n    display: none;\n}\n.isso-postbox.preview-mode > .form-wrapper .preview {\n    display: block;\n}\n.isso-postbox.preview-mode > .form-wrapper input[name="edit"] {\n    display: inline;\n}\n.isso-postbox > .form-wrapper .preview {\n    background-color: #f8f8f8;\n    background: repeating-linear-gradient(\n        -45deg,\n        #f8f8f8,\n        #f8f8f8 10px,\n        #fff 10px,\n        #fff 20px\n    );\n}\n.isso-postbox > .form-wrapper > .notification-section {\n    display: none;\n    padding-bottom: 10px;\n}\n@media screen and (max-width:600px) {\n    .isso-postbox > .form-wrapper > .auth-section .input-wrapper {\n        display: block;\n        max-width: 100%;\n        margin: 0 0 .3em;\n    }\n    .isso-postbox > .form-wrapper > .auth-section .input-wrapper input {\n        width: 100%;\n    }\n}\n'}),define("app/text/css",["text!../../../css/isso.css"],function(e){return{inline:e}}),define("text!app/text/arrow-down.svg",[],function(){return'\x3c!-- Generator: IcoMoon.io --\x3e<svg width="16" height="16" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="gray">\n  <g>\n    <path d="M 24.773,13.701c-0.651,0.669-7.512,7.205-7.512,7.205C 16.912,21.262, 16.456,21.44, 16,21.44c-0.458,0-0.914-0.178-1.261-0.534 c0,0-6.861-6.536-7.514-7.205c-0.651-0.669-0.696-1.87,0-2.586c 0.698-0.714, 1.669-0.77, 2.522,0L 16,17.112l 6.251-5.995 c 0.854-0.77, 1.827-0.714, 2.522,0C 25.47,11.83, 25.427,13.034, 24.773,13.701z">\n    </path>\n  </g>\n</svg>\n'}),define("text!app/text/arrow-up.svg",[],function(){return'\x3c!-- Generator: IcoMoon.io --\x3e<svg width="16" height="16" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="gray">\n  <g>\n    <path d="M 24.773,18.299c-0.651-0.669-7.512-7.203-7.512-7.203C 16.912,10.739, 16.456,10.56, 16,10.56c-0.458,0-0.914,0.179-1.261,0.536 c0,0-6.861,6.534-7.514,7.203c-0.651,0.669-0.696,1.872,0,2.586c 0.698,0.712, 1.669,0.77, 2.522,0L 16,14.89l 6.251,5.995 c 0.854,0.77, 1.827,0.712, 2.522,0C 25.47,20.17, 25.427,18.966, 24.773,18.299z">\n    </path>\n  </g>\n</svg>\n'}),define("app/text/svg",["text!./arrow-down.svg","text!./arrow-up.svg"],function(e,t){return{"arrow-down":e,"arrow-up":t}}),require(["app/lib/ready","app/config","app/i18n","app/api","app/isso","app/count","app/dom","app/text/css","app/text/svg","app/jade"],function(e,t,n,o,i,a,r,s,m,c){"use strict";function p(){if(l=r("#isso-thread"),u=r.new("h4"),t.css&&null===r("style#isso-style")){var e=r.new("style");e.id="isso-style",e.type="text/css",e.textContent=s.inline,r("head").append(e)}if(a(),null===l)return console.log("abort, #isso-thread is missing");if(t.feed){var m=r.new("a",n.translate("atom-feed")),c=r.new("span.isso-feedlink");m.href=o.feed(l.getAttribute("data-isso-id")),c.appendChild(m),l.append(c)}l.append(u),l.append(new i.Postbox(null)),l.append('<div id="isso-root"></div>')}function d(){r("#isso-root").textContent="",o.fetch(l.getAttribute("data-isso-id")||location.pathname,t["max-comments-top"],t["max-comments-nested"]).then(function(e){if(0===e.total_replies)return void(u.textContent=n.translate("no-comments"));var t=0,o=e.total_replies;e.replies.forEach(function(e){i.insert(e,!1),e.created>t&&(t=e.created),o+=e.total_replies}),u.textContent=n.pluralize("num-comments",o),e.hidden_replies>0&&i.insert_loader(e,t),window.location.hash.length>0&&window.location.hash.match("^#isso-[0-9]+$")&&r(window.location.hash).scrollIntoView()},function(e){console.log(e)})}c.set("conf",t),c.set("i18n",n.translate),c.set("pluralize",n.pluralize),c.set("svg",m);var l,u;e(function(){p(),d()}),window.Isso={init:p,fetchComments:d}}),define("embed",function(){})}();
